<template>
  <line-chart
    :options="chartOptions"
    :chart-data="chartData"
  />
</template>

<script setup lang="ts">
import { LineChart } from 'vue-chart-3'
import { Chart, registerables } from 'chart.js'
import { format } from 'date-fns'

Chart.register(...registerables)

const data = [
  ['2017-01-01', 1700],
  ['2017-02-01', 1700],
  ['2017-03-01', 1700],
  ['2017-04-01', 1700],
  ['2017-05-01', 1700],
  ['2017-06-01', 1700],
  ['2017-07-01', 1700],
  ['2017-08-01', 1700],
  ['2017-09-01', 1700],
  ['2017-10-01', 1700],
  ['2017-11-01', 1700],
  ['2017-12-01', 1700],
  ['2018-01-01', 1700],
  ['2018-02-01', 1700],
  ['2018-03-01', 1700],
  ['2018-04-01', 1700],
  ['2018-05-01', 1800],
  ['2018-06-01', 1700],
  ['2018-07-01', 1700],
  ['2018-08-01', 1700],
  ['2018-09-01', 1700],
  ['2018-10-01', 1600],
  ['2018-11-01', 1600],
  ['2018-12-01', 1600],
  ['2019-01-01', 1600],
  ['2019-02-01', 1600],
  ['2019-03-01', 1600],
  ['2019-04-01', 1600],
  ['2019-05-01', 1600],
  ['2019-06-01', 1600],
  ['2019-07-01', 1600],
  ['2019-08-01', 1600],
  ['2019-09-01', 1600],
  ['2019-10-01', 1670],
  ['2019-11-01', 1650],
  ['2019-12-01', 1200],
  ['2020-01-01', 1200],
  ['2020-02-01', 1200],
  ['2020-03-01', 1200],
  ['2020-04-01', 1200],
  ['2020-05-01', 1200],
  ['2020-06-01', 1000],
  ['2020-07-01', 1040],
  ['2020-08-01', 1640],
  ['2020-09-01', 2240],
  ['2020-10-01', 2240],
  ['2020-11-01', 2240],
  ['2020-12-01', 2240],
  ['2021-01-01', 2240],
  ['2021-02-01', 2240],
  ['2021-03-01', 2240],
  ['2021-04-01', 3200],
  ['2021-05-01', 3200],
  ['2021-06-01', 3200],
  ['2021-07-01', 3500],
  ['2021-08-01', 3500],
  ['2021-09-01', 3500],
  ['2021-10-01', 3500],
  ['2021-11-01', 3500],
  ['2021-12-01', 3600],
  ['2022-01-01', 3600],
  ['2022-02-01', 3650],
  ['2022-03-01', 5000],
  ['2022-04-01', 5000],
  ['2022-05-01', 5000],
  ['2022-06-01', 5000],
  ['2022-07-01', 5000],
  ['2022-08-01', 5000]
]

const chartOptions = {
  responsive: true,
  maintainAspectRatio: false,
  elements: {
    point: {
      radius: 0
    }
  },
  plugins: {
    legend: {
      display: false
    }
  }
}

const chartData = {
  labels: data.map(([date]) => format(new Date(date), 'dd MMM')),
  datasets: [{
    data: data.map(([date, value]) => value as number),
    borderColor: '#FFC000'
  }]
}
</script>
